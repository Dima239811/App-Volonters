<div class="modal-backdrop">
  <div class="modal-content">
    <button class="close-button" (click)="cancel.emit()">√ó</button>
    <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</h2>

    <form [formGroup]="form" (ngSubmit)="onSave()">
      <div class="form-group image-upload">
        <label>–§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è</label>
        
        <div class="image-preview-container">
          <div
            class="drop-area"
            (dragover)="onDragOver($event)"
            (dragleave)="onDragLeave($event)"
            (drop)="onDrop($event)"
            [class.dragging]="isDragging"
          >
            <div *ngIf="!previewImage" class="upload-prompt">
              <i class="upload-icon">üì§</i>
              <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–æ—Ç–æ —Å—é–¥–∞ –∏–ª–∏</p>
              <button type="button" class="browse-button" (click)="fileInputRef.nativeElement.click()">
                –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª
              </button>
              <p class="file-types">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: JPG, PNG</p>
            </div>

            <div *ngIf="previewImage" class="preview-wrapper">
              <img [src]="previewImage" alt="–ü—Ä–µ–≤—å—é" class="preview-image" />
              <div class="preview-overlay">
                <button type="button" class="change-image-button" (click)="fileInputRef.nativeElement.click()">
                  –ò–∑–º–µ–Ω–∏—Ç—å
                </button>
                <button type="button" class="remove-image-button" (click)="clearImage()">
                  –£–¥–∞–ª–∏—Ç—å
                </button>
              </div>
            </div>

            <input #fileInput type="file" accept="image/jpeg, image/png" hidden (change)="onFileSelected($event)" />
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="fullName">–ü–æ–ª–Ω–æ–µ –∏–º—è</label>
        <input id="fullName" type="text" formControlName="fullName" />
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input id="email" type="email" formControlName="email" />
      </div>

      <div class="form-group">
        <label for="phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
        <input id="phone" type="tel" formControlName="phone" />
      </div>

      <div class="form-group">
        <label for="city">–ì–æ—Ä–æ–¥</label>
        <input id="city" type="text" formControlName="city" />
      </div>

      <div class="form-group">
        <label for="aboutMe">–û —Å–µ–±–µ</label>
        <textarea id="aboutMe" formControlName="aboutMe" rows="3"></textarea>
      </div>

     <div class="interests-container">
        <div class="interest-item" 
            [class.selected]="isInterestSelected(interest.id)"
            *ngFor="let interest of availableInterests">
          <input type="checkbox" 
                [id]="'interest-' + interest.id" 
                [checked]="isInterestSelected(interest.id)" 
                (change)="toggleInterest(interest.id)">
          <label [for]="'interest-' + interest.id">{{ interest.name }}</label>
        </div>
      </div>



      <div class="form-actions">
        <button type="submit" class="save-button" [disabled]="form.invalid">
          –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
        </button>
        <button type="button" class="cancel-button" (click)="cancel.emit()">
          –û—Ç–º–µ–Ω–∞
        </button>
      </div>
    </form>
  </div>
</div>